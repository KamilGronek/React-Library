(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(21),c=a.n(o),r=(a(29),a(15)),i=a(8),s=a(9),m=a(12),u=a(10),d=a(13),h=a(6),E=(a(30),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.calendarDate.replace(/(\d{4})-(\d\d)-(\d\d)/,"$3-$2-$1"),a=this.props.book,n=a.id,o=a.title,c=a.author,r=a.releaseDate,i=a.pages,s=a.link,m=a.important,u=a.active,d=a.finishDate;if(u)return l.a.createElement("div",{className:"book"},l.a.createElement("span",{className:"bolder"},n),l.a.createElement("img",{src:this.props.book.cover.small,alt:""}),l.a.createElement("h3",null,o),l.a.createElement("hr",{className:"new"}),l.a.createElement("h4",null,l.a.createElement("i",null,l.a.createElement("span",{className:"lighter"},"By ",c))),l.a.createElement("p",null,l.a.createElement("i",null,"Release Date: ",r,l.a.createElement("br",null),"Pages: ",i,l.a.createElement("br",null),l.a.createElement("span",null,"Links: ",l.a.createElement("a",{href:s},"shop"))),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("em",{style:m?{color:"red"}:null},"(odda\u0107 do ",t,")")),l.a.createElement("button",{onClick:function(){return e.props.change(n)}},"Oddaj ksi\u0105\u017ck\u0119")));var h=new Date(d).toLocaleString();return l.a.createElement("div",{className:"book"},l.a.createElement("span",{className:"bolder"},n),l.a.createElement("img",{src:this.props.book.cover.small,alt:""}),l.a.createElement("h3",null,o),l.a.createElement("hr",{className:"new"}),l.a.createElement("h4",null,l.a.createElement("i",null,l.a.createElement("span",{className:"lighter"},"By ",c))),l.a.createElement("p",null,l.a.createElement("i",null,"Release Date: ",r,l.a.createElement("br",null),"Pages: ",i,l.a.createElement("br",null),l.a.createElement("span",null,"Links: ",l.a.createElement("a",{href:s},"shop"))),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("em",null," (odda\u0107 do ",t,")")),l.a.createElement("p",null,"Potwierdzenie oddania: ",l.a.createElement("span",null," ",h," ")),l.a.createElement("button",{className:"confirm",onClick:function(){return e.props.delete(n)}},"Zatwierd\u017a")))}}]),t}(n.Component)),k=(a(31),function(){return l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"logo"}),l.a.createElement("h1",null,"React'owe ksi\u0105\u017cki"),l.a.createElement("hr",{className:"style-three"}))}),b=(a(32),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleDate=function(t){e.setState({date:t.target.value}),console.log(t.target.value)},e.handleCheckbox=function(t){e.setState({checked:t.target.checked})},e.handleSelect=function(t){e.setState({bookId:+t.target.value})},e.handleActive=function(t){var a=e.state,n=a.bookId,l=a.checked,o=a.date;t.preventDefault(),console.log(e.state.date),e.props.addBook(n,l,o)&&e.setState({bookId:1,checked:!1,date:e.minDate})},e.minDate=(new Date).toISOString().slice(0,10),e.state={bookId:1,text:"",checked:!1,date:e.minDate},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=1*this.minDate.slice(0,4)+1;return e+="-12-31",l.a.createElement("nav",{className:"menu"},l.a.createElement("form",null,l.a.createElement("label",null,"Wypo\u017cycz ksi\u0105\u017cki: "),l.a.createElement("select",{value:this.state.bookId,onChange:this.handleSelect},this.props.passBooks.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.title)})),l.a.createElement("input",{type:"checkbox",checked:this.state.checked,id:"important",onChange:this.handleCheckbox}),l.a.createElement("label",{htmlFor:"important"},"Priorytet"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"date"}," Do kiedy odda\u0107 ksi\u0105\u017ck\u0119: "),l.a.createElement("input",{type:"date",value:this.state.date,min:this.minDate,max:e,onChange:this.handleDate}),l.a.createElement("br",null),l.a.createElement("hr",{className:"new4"}),l.a.createElement("div",{className:"centerize"},l.a.createElement("button",{onClick:this.handleActive},"WYPO\u017bYCZ"))))}}]),t}(n.Component)),p=(a(33),a(5)),f=function(e){var t=e.activeBooks.props.children.length;return l.a.createElement("div",{className:"active"},l.a.createElement("h1",null,"Ksi\u0105\u017cki wypo\u017cyczone:",l.a.createElement("em",null,"(",t||0,")")),l.a.createElement("section",{className:"gallery"},e.activeBooks))},v=function(e){var t=e.doneBooks.props.children.length;return l.a.createElement("div",{className:"done"},l.a.createElement("h1",null,"Ksi\u0105\u017cki oddane:",l.a.createElement("em",null,"(",t||0,")")),l.a.createElement("section",{className:"gallery"},e.doneBooks))},g=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{path:"/",exact:!0,render:function(){return l.a.createElement(f,e)}}),l.a.createElement(p.a,{path:"/returnedBooks",render:function(){return l.a.createElement(v,e)}}))},B=(a(39),a(11)),O=function(){return l.a.createElement("nav",{className:"nav"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(B.b,{exact:!0,to:"/"},"Ksi\u0105\u017cki wypo\u017cyczone")),l.a.createElement("li",null,l.a.createElement(B.b,{to:"/returnedBooks"},"Ksi\u0105\u017cki oddane"))))},D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).counter=4,e.minDate=(new Date).toISOString().slice(0,10),e.openModal=function(){},e.addBook=function(t,a,n){console.log(t);var l=Object(r.a)(e.state.books);l.forEach(function(e){e.id===t&&(e.active=!0),e.id===t&&a&&(e.important=!0)}),e.setState({books:l}),console.log(l),e.activeBooks(),e.setState({calendarDate:n})},e.activeBooks=function(){var t=e.state.books.filter(function(e){return e.active}).map(function(t){return l.a.createElement(E,{key:t.id,book:t,change:e.changeBookStatus,calendarDate:e.state.calendarDate})});return l.a.createElement(l.a.Fragment,null,t.length>0?t:l.a.createElement("p",null,"BRAK WYPO\u017bYCZONYCH KSI\u0104\u017bEK"))},e.changeBookStatus=function(t){console.log("change elementu o id"+t);var a=Array.from(e.state.books);a.forEach(function(e){e.id===t&&(e.active=!1,e.activeReturnedBook=!0,e.finishDate=(new Date).getTime())}),e.setState({books:a})},e.doneBooks=function(){var t=e.state.books.filter(function(e){return e.activeReturnedBook}).map(function(t){return l.a.createElement(E,{key:t.id,book:t,delete:e.deleteBook,calendarDate:e.state.calendarDate})});return l.a.createElement(l.a.Fragment,null,t.length>0?t:l.a.createElement("p",null,"WSZYSTKIE KSI\u0104\u017bKI ZOSTA\u0141Y ZWR\xd3CONE"))},e.deleteBook=function(t){console.log("delete elementu o id"+t);var a=Object(r.a)(e.state.books),n=a.findIndex(function(e){return e.id===t});a.splice(n,1),e.setState({books:a})},e.activeBooks=e.activeBooks.bind(Object(h.a)(Object(h.a)(e))),e.doneBooks=e.doneBooks.bind(Object(h.a)(Object(h.a)(e))),e.state={books:[],select:"",value:"",date:e.minDate,calendarDate:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("data/jsonTab.json").then(function(e){return e.json()}).then(function(t){e.setState({books:t.books})})}},{key:"render",value:function(){var e=1*this.minDate.slice(0,4)+1;return console.log(e),e+="-12-31",l.a.createElement(B.a,null,l.a.createElement("div",{className:"grid"},l.a.createElement(k,null),l.a.createElement(b,{addBook:this.addBook,passBooks:Object(r.a)(this.state.books)}),l.a.createElement(g,{activeBooks:this.activeBooks(),doneBooks:this.doneBooks()}),l.a.createElement(O,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=document.getElementById("root");c.a.render(l.a.createElement(D,null),j),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.a8408c86.chunk.js.map